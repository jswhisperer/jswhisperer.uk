!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t("object"==typeof module&&module.exports?require("jquery"):jQuery)}(function(t){function e(t){return t.replace(/(:|\.|\/)/g,"\\$1")}var l={},o=function(e){var l=[],o=!1,s=e.dir&&"left"===e.dir?"scrollLeft":"scrollTop";return this.each(function(){var e=t(this);if(this!==document&&this!==window)return document.scrollingElement&&(this===document.documentElement||this===document.body)?(l.push(document.scrollingElement),!1):void(e[s]()>0?l.push(this):(e[s](1),(o=e[s]()>0)&&l.push(this),e[s](0)))}),l.length||this.each(function(){"BODY"===this.nodeName&&(l=[this])}),"first"===e.el&&l.length>1&&(l=[l[0]]),l};t.fn.extend({scrollable:function(t){var e=o.call(this,{dir:t});return this.pushStack(e)},firstScrollable:function(t){var e=o.call(this,{el:"first",dir:t});return this.pushStack(e)},smoothScroll:function(l,o){if("options"===(l=l||{}))return o?this.each(function(){var e=t(this),l=t.extend(e.data("ssOpts")||{},o);t(this).data("ssOpts",l)}):this.first().data("ssOpts");var s=t.extend({},t.fn.smoothScroll.defaults,l),n=t.smoothScroll.filterPath(location.pathname);return this.unbind("click.smoothscroll").bind("click.smoothscroll",function(l){var o=t(this),r=t.extend({},s,o.data("ssOpts")||{}),i=s.exclude,c=r.excludeWithin,a=0,f=0,h=!0,u={},d=location.hostname===this.hostname||!this.hostname,p=r.scrollTarget||t.smoothScroll.filterPath(this.pathname)===n,m=e(this.hash);if(r.scrollTarget||d&&p&&m){for(;h&&i.length>a;)o.is(e(i[a++]))&&(h=!1);for(;h&&c.length>f;)o.closest(c[f++]).length&&(h=!1)}else h=!1;h&&(r.preventDefault&&l.preventDefault(),t.extend(u,r,{scrollTarget:r.scrollTarget||m,link:this}),t.smoothScroll(u))}),this}}),t.smoothScroll=function(e,o){if("options"===e&&"object"==typeof o)return t.extend(l,o);var s,n,r,i,c,a=0,f="offset",h="scrollTop",u={},d={};"number"==typeof e?(s=t.extend({link:null},t.fn.smoothScroll.defaults,l),r=e):(s=t.extend({link:null},t.fn.smoothScroll.defaults,e||{},l)).scrollElement&&(f="position","static"===s.scrollElement.css("position")&&s.scrollElement.css("position","relative")),h="left"===s.direction?"scrollLeft":h,s.scrollElement?(n=s.scrollElement,/^(?:HTML|BODY)$/.test(n[0].nodeName)||(a=n[h]())):n=t("html, body").firstScrollable(s.direction),s.beforeScroll.call(n,s),r="number"==typeof e?e:o||t(s.scrollTarget)[f]()&&t(s.scrollTarget)[f]()[s.direction]||0,u[h]=r+a+s.offset,"auto"===(i=s.speed)&&(0>(c=u[h]-n.scrollTop())&&(c*=-1),i=c/s.autoCoefficient),d={duration:i,easing:s.easing,complete:function(){s.afterScroll.call(s.link,s)}},s.step&&(d.step=s.step),n.length?n.stop().animate(u,d):s.afterScroll.call(s.link,s)},t.smoothScroll.version="1.5.6",t.smoothScroll.filterPath=function(t){return(t=t||"").replace(/^\//,"").replace(/(?:index|default).[a-zA-Z]{3,4}$/,"").replace(/\/$/,"")},t.fn.smoothScroll.defaults={exclude:[],excludeWithin:[],offset:0,direction:"top",scrollElement:null,scrollTarget:null,beforeScroll:function(){},afterScroll:function(){},easing:"swing",speed:400,autoCoefficient:2,preventDefault:!0}});
